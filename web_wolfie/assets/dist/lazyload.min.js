// Cannot for the life of me find from searching where I got this vanilla js lazy load to add credit back to. Been using this on my sites for years being extremely light weight.
!function () { let e = window.addEventListener || function (e, t) { window.attachEvent("on" + e, t) }, t = window.removeEventListener || function (e, t, o) { window.detachEvent("on" + e, t) }, o = { cache: [], mobileScreenSize: 500, addObservers: function () { e("scroll", o.throttledLoad), e("resize", o.throttledLoad) }, removeObservers: function () { t("scroll", o.throttledLoad, !1), t("resize", o.throttledLoad, !1) }, throttleTimer: (new Date).getTime(), throttledLoad: function () { let e = (new Date).getTime(); e - o.throttleTimer >= 200 && (o.throttleTimer = e, o.loadVisibleImages()) }, loadVisibleImages: function () { let e = window.pageYOffset || document.documentElement.scrollTop, t = e - 200, n = e + (window.innerHeight || document.documentElement.clientHeight) + 200, r = 0; for (; r < o.cache.length;) { let e = o.cache[r], i = l(e); if (i >= t - (e.height || 0) && i <= n) { let t = e.getAttribute("data-src-mobile"); e.onload = function () { this.className = this.className.replace(/(^|\s+)lazy-load(\s+|$)/, "$1lazy-loaded$2") }, t && screen.width <= o.mobileScreenSize ? e.src = t : e.src = e.getAttribute("data-src"), e.removeAttribute("data-src"), e.removeAttribute("data-src-mobile"), o.cache.splice(r, 1) } else r++ } 0 === o.cache.length && o.removeObservers() }, init: function () { document.querySelectorAll || (document.querySelectorAll = function (e) { let t = document, o = t.documentElement.firstChild, l = t.createElement("STYLE"); return o.appendChild(l), t.__qsaels = [], l.styleSheet.cssText = e + "{x:expression(document.__qsaels.push(this))}", window.scrollBy(0, 0), t.__qsaels }), e("load", (function e() { let l = document.querySelectorAll("img[data-src]"); for (let e = 0; e < l.length; e++) { let t = l[e]; o.cache.push(t) } o.addObservers(), o.loadVisibleImages(), t("load", e, !1) })) } }; function l(e) { let t = 0; if (e.offsetParent) { do { t += e.offsetTop } while (e = e.offsetParent); return t } } o.init() }();

for (let e of document.querySelectorAll(".lazy-load")) e.classList.add("lazy-show");
